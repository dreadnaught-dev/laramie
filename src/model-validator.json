{
    "modelSchema": {
        "$schema": "http:\/\/json-schema.org\/draft-04\/schema#",
        "type": "object",
        "additionalProperties": false,
        "required": [
            "fields"
        ],
        "properties": {
            "additionalBulkActions": {
                "type": "array",
                "items": { "type": "string" }
            },
            "addNewText": { "type": "string" },
            "alias": { "type": "string" },
            "bulkActions": {
                "type": "array",
                "items": { "type": "string" }
            },
            "defaultSort": { "type": "string" },
            "defaultSortDirection": { "type": "string" },
            "editCss": { "type": ["string", "array"] },
            "editJs": { "type": ["string", "array"] },
            "editView": { "type": "string" },
            "factory": { "type": "string" },
            "fields": {
                "oneOf": [
                    { "type": "object" },
                    { "type": "string" }
                ]
            },
            "isDeletable": { "type": "boolean" },
            "isDisableMeta": { "type": "boolean" },
            "isDisableRevisions": { "type": "boolean" },
            "isEditable": { "type": "boolean" },
            "isListable": { "type": "boolean" },
            "isSingular": { "type": "boolean" },
            "isSystemModel": { "type": "boolean" },
            "listCss": { "type": ["string", "array"] },
            "listJs": { "type": ["string", "array"] },
            "listView": { "type": "string" },
            "mainTabLabel": { "type": "string" },
            "name": { "type": "string" },
            "namePlural": { "type": "string" },
            "quickSearch": { "type": ["string", "array"] },
            "type": { "type": "string" },
            "refs": {
                "type": "array",
                "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                        "model",
                        "throughField"
                    ],
                    "properties": {
                        "label": { "type": "string" },
                        "model": { "type": "string" },
                        "throughField": { "type": "string" }
                    },
                    "patternProperties": {
                        "^_" : [ ],
                        "^@" : [ ]
                    }
                }
            }
        },
        "patternProperties": {
            "^_" : [ ],
            "^@" : [ ]
        }
    },
    "@todo": [
        "convert base `type` to enum and remove empty field types below?"
    ],
    "fields": {
        "_base": {
            "$schema": "http:\/\/json-schema.org\/draft-04\/schema#",
            "type": "object",
            "additionalProperties": false,
            "required": [
                "type"
            ],
            "properties": {
                "id": { "type": "string" },
                "type": { "type": "string" },
                "fieldName": { "type": "string" },
                "isListByDefault": { "type": "boolean" },
                "isRequired": { "type": "boolean" },
                "label": { "type": "string" },
                "labelPlural": { "type": "string" },
                "weight": { "type": "integer" },
                "extra": { "type": "string" },
                "helpText": { "type": "string" },
                "validation": { "type": "string" },
                "isEditable": { "type": "boolean" },
                "isListable": { "type": "boolean" },
                "isSearchable": { "type": "boolean" },
                "sortBy": {
                    "oneOf": [
                        { "type": "string" },
                        { "type": "null" }
                    ]
                },
                "isSortable": { "type": "boolean" },
                "isMetaField": { "type": "boolean" },
                "showWhen": { "oneOf": [ { "type": "string" }, { "type": "null" } ] },
                "default": { "oneOf": [ { "type": "string" }, { "type": "null" } ] }
            },
            "patternProperties": {
                "^_" : [ ],
                "^@" : [ ]
            }
        },
        "_note": "----- GENERIC HTML INPUTS -----",
        "color": {},
        "date": {},
        "datetime-local": {},
        "email": {},
        "month": {},
        "tel": {},
        "text": {},
        "time": {},
        "url": {},
        "week": {},
        "_note": "----- CUSTOM Fields -----",
        "computed": {
            "required": [
                "sql"
            ],
            "properties": {
                "dataType": { "type": ["string", "null"] },
                "isDeferred": { "type": ["boolean", "null"] },
                "listTemplate": { "type": ["string", "null"] },
                "sql": { "type": ["string", "null"] }
            }
        },
        "boolean": {},
        "checkbox": {},
        "file": {
            "properties": {
                "isPublic": { "type": ["boolean", "null"] },
                "subtype": { "enum": [ "file", "image", null ] },
                "canChooseFromLibrary": { "type": ["boolean", "null"] },
                "isTypeSpecific": { "type": ["boolean", "null"] },
                "disk": { "type": ["string", "null"] }
            }
        },
        "html": {
            "required": [
                "html"
            ],
            "properties": {
                "html": { "type": ["string", "null"] }
            }
        },
        "markdown": {},
        "hidden": {
            "properties": {
                "isVisibleOnEdit": { "type": ["boolean", "null"] }
            }
        },
        "currency": {
            "properties": {
                "currencyCode": { "type": ["string", "null"] },
                "min": { "type": ["number", "null"] },
                "max": { "type": ["number", "null"] },
                "step": { "type": ["number", "null"] },
                "isIntegerOnly": { "type": ["boolean", "null"] }
            }
        },
        "number": {
            "properties": {
                "min": { "type": ["number", "null"] },
                "max": { "type": ["number", "null"] },
                "step": { "type": ["number", "null"] },
                "isIntegerOnly": { "type": ["boolean", "null"] }
            }
        },
        "password": {},
        "radio": {
            "properties": {
                "options": { "type": ["array", "null"] }
            }
        },
        "range": {
            "properties": {
                "min": { "type": ["number", "null"] },
                "max": { "type": ["number", "null"] },
                "step": { "type": ["number", "null"] }
            }
        },
        "reference": {
            "required": [
                "relatedModel"
            ],
            "properties": {
                "relatedModel": { "type": ["string", "null"] },
                "hasMany": { "type": ["boolean", "null"] }
            }
        },
        "select": {
            "properties": {
                "options": { "type": ["array", "null"] },
                "isSelect2": { "type": ["boolean", "null"] },
                "isMultiple": { "type": ["boolean", "null"] },
                "asRadio": { "type": ["boolean", "null"] }
            }
        },
        "textarea": {},
        "timestamp": {},
        "wysiwyg": {},
        "aggregate": {
            "properties": {
                "asTab": { "type": ["boolean", "null"] },
                "fields": { "type": ["object", "null"] },
                "isRepeatable": { "type": ["boolean", "null"] },
                "minItems": { "type": ["integer", "null"] },
                "maxItems": { "type": ["integer", "null"] },
                "isUnwrap": { "type": ["boolean", "null"] },
                "isHideLabel": { "type": ["boolean", "null"] }
            }
        }
    }
}

